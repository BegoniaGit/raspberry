# OSS 存储系统

## 

## 系统生命周期

**启动**

1. 读取分区文件，加载分区信息
2. 读取索引文件，加载文件索引
3. 初始化资源请求线程池
4. 初始化内存信息刷磁盘线程
5. 初始化系统自检线程
6. 至此启动完成，开始接受外部请求

运行

1. 执行用户请求
2. 间隔时间刷新内存数据到磁盘
3. 间隔时间系统自检

**停止**

1. 关闭数据请求接受开关，因此若当前正在处理请求，在这个请求处理完成后不再接受新请求。
2. 刷新内存数据到磁盘
3. 停止程序

## 文件管理

统一文件命名为 Hash+时间戳，利用索引树记录文件层次结构和关键信息，且服务启动后定时将内存中的索引文件刷新回磁盘。

索引树格式JSON

## 通信

### 通信协议

```text
<key>:<value>
<key>:<value>
<key>:<value>

<bytes>
```

## 客户端





